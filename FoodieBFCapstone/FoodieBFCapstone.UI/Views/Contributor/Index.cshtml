@model FoodieBFCapstone.UI.Models.ContributorVM

@using PagedList.Mvc;
@using PagedList;

@{
    ViewBag.Title = "My Contributions";
}

<link href="~/Content/PagedList.css" rel="stylesheet" type="text/css" />

<h2 class="text-center">@ViewBag.Title</h2>

<div class="btn-group">
    <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Filter Posts <span class="caret"></span>
    </button>
    <ul class="dropdown-menu">
        <li><a href="#!">All</a></li>
        <li><a href="#!">Pending</a></li>
        <li><a href="#!">Active</a></li>
        <li><a href="#!">Inactive</a></li>
        <li><a href="#!">Denied</a></li>
        <li><a href="#!">Featured</a></li>
    </ul>
</div>

<div class="row">
    @foreach (var blog in ViewBag.OnePageOfProducts)
    {
        if (blog.Title == "Create New")
        {
            <div class="col-md-4 blog-Preview">
                @*<h2 class="text-center">Create New</h2>*@
                <img class="img-rounded text-center" src="~/Content/pictures/logo22.png" style="width: 300px; height: 200px; display: block; margin-left: auto; margin-right: auto" />
                <a href=@Url.Action("CreateNewBlog", "Contributor") class="btn btn-primary blog-Update">
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> New
                </a>
                <h4 class="text-center">Create New</h4>
            </div>
        }
        else
        {
            <div class="col-md-4 blog-Preview">
                @*<h2 class="text-center">@blog.Title</h2>*@
                <img class="img-rounded text-center" src="@blog.MainPictureUrl" style="width: 300px; height: 200px; display: block; margin-left: auto; margin-right: auto" />
                <a href=@Url.Action("UpdateBlog", "Contributor", new {blogId = blog.BlogId}) class="btn btn-primary blog-Update">
                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit
                </a>
                <a href=@Url.Action("DeactivateBlog", "Contributor", new {blogId = blog.BlogId}) class="btn btn-danger blog-Delete">
                    <span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Deactivate
                </a>
                <h4 class="text-center">@blog.Title</h4>
            </div>
        }
    }
</div>

<br/>
<br/>

<div class="text-center">
    @Html.PagedListPager((IPagedList) ViewBag.OnePageOfProducts, page => Url.Action("Index", new {page}))
</div>

@section scripts{
    <script src="~/Scripts/app/filter-button.js"></script>
}
